<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>为数字加千分号(列表展示时使用)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <div id="vue">
      <input type="text" placeholder="请输入数字" v-model="value" />
      <br />
      <span>{{ semicolon }}</span>
    </div>

    <script type="text/javascript" src="../js/vue.min.js"></script>
    <script ype="text/javascript">
      const vm = new Vue({
        el: "#vue",
        data: {
          value: 2654.5656
        },
        computed: {
          semicolon() {
            if (Number(this.value) === 0) {
              return 0;
            }
            console.log(this.value);
            if (!this.value) {
              return (this.data = "");
            }
            if (this.value === "NaN") {
              return (this.data = "");
            }
            if (`${this.value}`.split(".").length > 1) {
              return (this.value = `${this.value}`.replace(
                /(\d)(?=(\d{3})+\.)/g,
                "$1,"
              ));
            }
            return (this.value = `${this.value}`.replace(
              /\B(?=(\d{3})+(?!\d))/g,
              ","
            ));
          }
        }
      });
    </script>
  </body>
</html>
